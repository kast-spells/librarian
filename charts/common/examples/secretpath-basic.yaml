name: common-secretpath-test

# Test common.secretPath basic functionality
# This tests ONLY the generic hierarchical path generation
# Provider-specific logic (like Vault's /data prefix) is NOT tested here

spellbook:
  name: test-book

chapter:
  name: test-chapter

# Mock minimal values for testing
glyphs:
  common:
    # Test 1: Book-level path
    - type: test-path
      name: book-level-secret
      path: book
      basePath: kv

    # Test 2: Chapter-level path
    - type: test-path
      name: chapter-level-secret
      path: chapter
      basePath: kv

    # Test 3: Absolute path with trailing slash
    - type: test-path
      name: custom-secret
      path: /custom/path/
      basePath: kv

    # Test 4: Absolute path without trailing slash
    - type: test-path
      name: ""  # Should be ignored for absolute paths
      path: /ssl/certificates
      basePath: kv

    # Test 5: Default full path (book/chapter/namespace/visibility/name)
    - type: test-path
      name: default-path-secret
      basePath: kv

    # Test 6: Private visibility
    - type: test-path
      name: private-secret
      path: chapter
      private: privates
      basePath: kv

    # Test 7: Book level without name (excludeName option)
    - type: test-path
      name: should-be-excluded
      path: book
      basePath: kv
      excludeName: true
